webpackJsonp([1],{"6TJU":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(t){n("gsu9")},null,null).exports,l=n("/ocq"),o={data:function(){return{dataList:[],fileList:[],drawer:!1,previewHtmlUrl:"",ataListAll:[],totalnum:0}},mounted:function(){this.getdatList()},methods:{getdatList:function(){var t=this;this.$axios({method:"get",url:"http://121.5.66.217:8080/cos/listAll"}).then(function(e){t.dataListAll=e.data,t.totalnum=t.dataListAll.length,t.dataList=t.dataListAll.slice(0,20)})},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},onSuccessFun:function(){this.$message({message:"上传成功",type:"success"}),this.getdatList()},handleExceed:function(t,e){},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},detailsfun:function(t){var e=this;this.$axios({method:"get",url:"http://121.5.66.217:8080/doc/getPreviewUrl?fileName="+t.fileName}).then(function(t){e.drawer=!0,e.previewHtmlUrl=t.data.previewUrl,console.log(t.data.previewUrl)})},handleSizeChange:function(t){},handleCurrentChange:function(t){var e=20*t-20,n=20*t;this.dataList=this.dataListAll.slice(e,n)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-drawer",{attrs:{title:"",size:"80%",visible:t.drawer,"with-header":!1},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{staticStyle:{width:"100%",height:"100%"}},[n("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"30px",color:"#000",position:"absolute",top:"10px",right:"20px",cursor:"pointer"},on:{click:function(e){t.drawer=!1}}}),t._v(" "),n("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.previewHtmlUrl,frameborder:"0"}})])]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4,offset:18}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"http://121.5.66.217:8080/cos/upload","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.onSuccessFun,"before-remove":t.beforeRemove,multiple:"",limit:30,"show-file-list":!1,"on-exceed":t.handleExceed,"file-list":t.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),n("el-col",{attrs:{span:20,offset:2}},[n("div",{staticClass:"grid-content bg-purple"},t._l(t.dataList,function(e,a){return n("div",{key:a,staticClass:"list_content",on:{click:function(n){return t.detailsfun(e)}}},[n("p",{staticClass:"file_name"},[t._v(t._s(e.fileName))]),t._v(" "),n("img",{attrs:{src:e.img}})])}),0)])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:4,offset:18}},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:t.totalnum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(o,r,!1,function(t){n("6TJU")},null,null).exports;a.default.use(l.a);var u=new l.a({routes:[{path:"/",name:"HelloWorld",component:c}]}),d=n("mtWM"),f=n.n(d),p=n("zL8q"),h=n.n(p);n("tvR6");a.default.prototype.$axios=f.a,a.default.use(h.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:u,components:{App:s},template:"<App/>"})},gsu9:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f7cd83b23fd5d2041f50.js.map